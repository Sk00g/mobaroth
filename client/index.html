<html>
    <canvas id="ctx" width="800" height="600"></canvas>

    <script>
        // GLOBAL CONSTANTS
        const SCREEN_WIDTH = 700;
        const SCREEN_HEIGHT = 600; 
        const MAX_BALL_SPEED = 20;
        
        // Initialization
        var ctx = document.getElementById("ctx").getContext("2d");
        setInterval(update, 10);

        // Object declaration
        var ball = {x: SCREEN_WIDTH / 2, y: SCREEN_HEIGHT / 2, w: 10, h: 10, color: 'white',
            dirX: Math.random() - .5,
            dirY: Math.random() - .5,
            speed: Math.random() * 3 + 2,
            draw: function() {
                ctx.fillStyle = this.color;
                ctx.fillRect(this.x, this.y, this.w, this.h);
            },
            incrementSpeed: function() {
                this.speed++;
                if (this.speed > MAX_BALL_SPEED)
                    this.speed = MAX_BALL_SPEED;
            },
            update: function() {
                this.x += this.dirX * this.speed;
                this.y += this.dirY * this.speed;

                if (this.x < this.w / 2 || this.x > SCREEN_WIDTH - this.w / 2) {
                    this.dirX *= -1;
                    this.incrementSpeed();
                }
                if (this.y < this.h / 2 || this.y > SCREEN_HEIGHT - this.h / 2) {
                    this.dirY *= -1;
                    this.incrementSpeed();
                }
            }};

        function update() {
            ctx.clearRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);
            
            ctx.fillStyle = 'black';
            ctx.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);

            ball.update();
                
            ball.draw();
        }


    </script>
</html>